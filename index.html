<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Stock Research Platform</title>

  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    body { font-family: system-ui, -apple-system, sans-serif; }
  </style>
</head>
<body>

  <div id="root"></div>

  <!-- React -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

  <!-- Lucide -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <script>
    const e = React.createElement;

    const Icon = ({ name, className }) =>
      e('i', { 'data-lucide': name, className });

    function App() {
      const [search, setSearch] = React.useState('');
      const [selected, setSelected] = React.useState(null);
      const [loading, setLoading] = React.useState(false);

      const stocks = [
        { symbol: 'AAPL', name: 'Apple Inc.' },
        { symbol: 'MSFT', name: 'Microsoft' },
        { symbol: 'GOOGL', name: 'Alphabet' },
        { symbol: 'AMZN', name: 'Amazon' },
        { symbol: 'NVDA', name: 'NVIDIA' }
      ];

      React.useEffect(() => {
        lucide.createIcons();
      });

      function analyze(symbol) {
        setLoading(true);
        setSelected(null);

        setTimeout(() => {
          setSelected({
            symbol,
            price: (100 + Math.random() * 200).toFixed(2),
            change: (Math.random() * 6 - 3).toFixed(2),
            sentiment: Math.random() > 0.5 ? 'Bullish' : 'Bearish'
          });
          setLoading(false);
        }, 600);
      }

      return e(
        'div',
        { className: 'min-h-screen bg-gray-50 p-6' },

        e('h1', { className: 'text-3xl font-bold mb-6 flex items-center gap-3' },
          e(Icon, { name: 'sparkles', className: 'w-8 h-8 text-purple-600' }),
          'AI Stock Research Platform'
        ),

        e('label', { htmlFor: 'stockSearch', className: 'block mb-2 font-medium' }, 'Search stocks'),
        e('input', {
          id: 'stockSearch',
          name: 'stockSearch',
          className: 'border p-2 rounded w-full mb-6',
          value: search,
          onChange: ev => setSearch(ev.target.value)
        }),

        e('div', { className: 'grid grid-cols-1 md:grid-cols-3 gap-4' },
          stocks
            .filter(s =>
              s.symbol.toLowerCase().includes(search.toLowerCase()) ||
              s.name.toLowerCase().includes(search.toLowerCase())
            )
            .map(stock =>
              e('button', {
                key: stock.symbol,
                onClick: () => analyze(stock.symbol),
                className: 'bg-white p-4 rounded shadow text-left'
              },
                e('div', { className: 'font-bold' }, stock.symbol),
                e('div', { className: 'text-sm text-gray-600' }, stock.name)
              )
            )
        ),

        loading && e('p', { className: 'mt-6 text-purple-600 font-semibold' }, 'Analyzingâ€¦'),

        selected && !loading && e(
          'div',
          { className: 'mt-6 bg-white p-6 rounded shadow' },
          e('h2', { className: 'text-xl font-bold mb-2' }, selected.symbol),
          e('p', null, 'Price: $' + selected.price),
          e('p', null, 'Change: ' + selected.change + '%'),
          e('p', { className: 'mt-2 font-semibold' }, selected.sentiment)
        )
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(e(App));
  </script>

</body>
</html>
